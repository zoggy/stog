<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="application/xhtml+xml; charset=utf-8" http-equiv="Content-Type"/>
<title>Stog : Running Stog</title>
<link href="https://zoggy.github.io/stog/style.css" rel="stylesheet" type="text/css"/>
</head>
<script type="text/javascript">
function submitSearch(){
    var q = document.getElementById('q');
    q.value =q.value + " site:https://zoggy.github.io/stog ";
    return true;
}
</script>
<body>
<div id="page">
<div class="navbar navbar-fixed-top">
<div class="navbar-inner">
<div class="container">

<!--&lt;image float="right" src="&lt;site-url/&gt;/stog-logo.svg" width="30"/&gt;-->

  <div class="nav-collapse">
    <ul class="nav">
    <li class="&lt;navbar-home/&gt;"><a href="https://zoggy.github.io/stog/index.html">Stog</a></li>
    <li class="&lt;navbar-install/&gt;"><a href="https://zoggy.github.io/stog/install.html">Installation</a></li>
    <li class="active"><a href="https://zoggy.github.io/stog/doc.html">Documentation</a></li>
    <li class="&lt;navbar-plugins/&gt;"><a href="https://zoggy.github.io/stog/plugins.html">Plugins</a></li>
    <li class="&lt;navbar-blog/&gt;"><a href="https://zoggy.github.io/stog/blog.html">Blog</a></li>
    <li class="&lt;navbar-about/&gt;"><a href="https://zoggy.github.io/stog/about.html">?</a></li>
    </ul>
<!--
    &lt;div class="nav pull-right"&gt;
       &lt;form action="https://qwant.com/" method="GET"
         onsubmit="submitSearch();"
         style="overflow:hidden;margin:0;margin-top:5px;padding:0;height:28px;display:flex;"
         frameborder="0"&gt;
         &lt;input style="width: 100px;" type="text" id="q" placeHolder="Search" name="q"/&gt;
         &lt;input style="font-size: 0.8em" type="submit" value="ðŸ”Ž"/&gt;
       &lt;/form&gt;
    &lt;/div&gt;
-->
  </div>

</div>
</div>
</div>

<div id="header">
  
  
  
  <div class="page-title">Running Stog</div>
</div>




<p>
To compile your web site, use the following command:
</p>
<pre># stog &lt;root-directory&gt;</pre>
<p>Stog will generate the result in <span class="icode"><span class="hl std">./stog-output</span></span>,
except if you use the <span class="icode"><span class="hl std">-d</span></span> option to specify another
output directory.
</p>
<p>You can specify a template directory with the <span class="icode"><span class="hl std">--tmpl</span></span>
option. By default, the templates are searched in the <span class="icode"><span class="hl std">.stog/templates</span></span> directory
of the specified root directory.
</p>
<p>
It is possible to give more than one directory to <span class="icode"><span class="hl std">stog</span></span>. In this case,
all documents are merged as if all were defined in the last directory
given. It may be useful to gather blogs or pages to generate one big site. Or not.
</p>
<p>
Stog can also be used to <a href="https://zoggy.github.io/stog/single-documents.html">compile single documents</a>.
</p>

<div class="section"><div aria-level="1" class="section-title" id="siteurl" role="heading">Site location</div>
<p>The <span class="icode"><span class="hl std">--site-url</span></span> option is used to override the <span class="icode"><span class="hl std">stog:site-url</span></span>
field of the main document. It it useful to generate a local site, for example
</p>
<pre># stog --site-url file:///tmp/website your-directory</pre>
<p>
to test your site locally with correct links.
</p>
</div>
<p id="optionlocal">
As a shortcut, the <span class="icode"><span class="hl std">--local</span></span> option sets <span class="icode"><span class="hl std">stog:site-url</span></span> to
<span class="icode"><span class="hl std">file://&lt;absolute path of output directory/&gt;</span></span>.
</p>

<div class="section"><div aria-level="1" class="section-title" id="template-path" role="heading">Template paths</div>
<p>By default, Stog will look for templates in the following directories, in this
order: <span class="icode"><span class="hl std">.stog/templates</span></span>, <span class="icode"><span class="hl std">/path/to/stog/share/templates</span></span>.
</p>
<p>The <span class="icode"><span class="hl std">--tmpl &lt;dir&gt;</span></span> option allows to specify an additional
directory to look for templates, before the default ones. This options can be used
several times. In the following example:
</p>
<pre># stog --tmpl dir1 --tmpl dir2 ...</pre>
<p>Stog will look for templates in the following directories, in this order:
<span class="icode"><span class="hl std">dir1</span></span>, <span class="icode"><span class="hl std">dir2</span></span>, <span class="icode"><span class="hl std">.stog/templates</span></span>,
<span class="icode"><span class="hl std">/path/to/stog/share/templates</span></span>.
</p>
</div>

<div class="section"><div aria-level="1" class="section-title" id="module-path" role="heading">Module paths</div>
<p>By default, Stog will look for modules in the following directories, in this
order: <span class="icode"><span class="hl std">.stog/modules</span></span>, <span class="icode"><span class="hl std">/path/to/stog/share/modules</span></span>.
</p>
<p>The <span class="icode"><span class="hl std">--mods &lt;dir&gt;</span></span> option allows to specify an additional
directory to look for modules, before the default ones. This options can be used
several times. In the following example:
</p>
<pre># stog --mods dir1 --mods dir2 ...</pre>
<p>Stog will look for modules in the following directories, in this order:
<span class="icode"><span class="hl std">dir1</span></span>, <span class="icode"><span class="hl std">dir2</span></span>, <span class="icode"><span class="hl std">.stog/modules</span></span>,
<span class="icode"><span class="hl std">/path/to/stog/share/modules</span></span>.
</p>
</div>

<div class="section"><div aria-level="1" class="section-title" id="def" role="heading">Additional definitions</div>
<p id="optiondef">
The <span class="icode"><span class="hl std">--def</span></span> option can be used to define an additional global rule. For example
</p>
<pre># stog --def stogdir:`pwd`</pre>
<p>
will make the current working directory accessible using <span class="icode"><span class="hl kwa">&lt;stogdir</span><span class="hl kwa">/&gt;</span></span>.
</p>
</div>

<div class="section"><div aria-level="1" class="section-title" id="plugins" role="heading">Plugins</div>
<p>The <span class="icode"><span class="hl std">--plugin</span></span> option makes <span class="icode"><span class="hl std">stog</span></span> dynamically
load the given OCaml object file. The loaded plugin can define new functions
to associate to some tags, or even override some pre-defined functions.
See <a href="https://zoggy.github.io/stog/writing_plugins.html">Developing plugins</a>.
</p>
<p>
If a plugin was installed with ocamlfind, the <span class="icode"><span class="hl std">--package</span></span> option can be used
to specify a list of comma-separated packages to load. <span class="icode"><span class="hl std">ocamlfind</span></span> will
then be used to get the location and required files to load these packages, in bytecode
for <span class="icode"><span class="hl std">stog.byte</span></span> or native-code for <span class="icode"><span class="hl std">stog</span></span>.
</p>
</div>
<div class="section"><div aria-level="1" class="section-title" id="multilang" role="heading">Handling languages</div>
<p>The <span class="icode"><span class="hl std">--lang</span></span> option is used to generate the website
for one language. By default, the only known languages are "en" and "fr".
If you use the <span class="icode"><span class="hl std">--lang en</span></span> option, then pages will be generated
in <span class="icode"><span class="hl std">.html.en</span></span> files and all <span class="icode"><span class="hl kwa">&lt;fr</span><span class="hl kwa">&gt;</span></span> nodes will be removed.
Then you can run <span class="icode"><span class="hl std">stog</span></span> with the <span class="icode"><span class="hl std">--lang fr</span></span>
to generate the "fr" part of your web site, removing all <span class="icode"><span class="hl kwa">&lt;en</span><span class="hl kwa">&gt;</span></span>.
</p>
<p>
The default language is "en". It is used when generating date representations.
The default language can be changed by using the <span class="icode"><span class="hl std">--default-lang</span></span> option,
for example:
</p>
<pre># stog --default-lang fr ...</pre>
<p>will generate pages with no language suffix, but with dates printed in french.</p>
<!--
&lt;p&gt;
If you need more languages, just define "stog:languages" in the main document
this way:
&lt;/p&gt;
&lt;hcode&gt;&lt;![CDATA[&lt;type main="true" ... stog:languages="es,de,fr,en"&gt;...&lt;/type&gt;]]&gt;&lt;/hcode&gt;
&lt;p&gt;This makes &lt;languages/&gt; returning the list of languages, and it is used by
the provided
-->
</div>

<div class="section"><div aria-level="1" class="section-title" id="caching" role="heading">Caching</div>
<p>
Stog will keep computed documents in directory <code>.stog/cache</code>.
To prevent stog from using this cache, use the <code>--nocache</code>
command line option. The cache won't be read, but it will nevertheless
be updated by contents of computed documents.
</p>
<p>
The caching strategy uses dependencies between documents: if a document
refers to another one (see <a href="https://zoggy.github.io/stog/funs.html">Predefined modules and functions</a>), a dependency will be
added and stored in the cache directory, so that this dependency will
be used during the next run of stog. A document can also depend
on files: the templates used, the files included, ... Dependencies are
recursively computed.
</p>
<p>
In some cases, using recursive dependencies may be too complete. For example,
if you have a menubar appearing in all pages, all pages will depend on
the documents referenced by the menubar, leading to all documents depending
on all documents. A change in any document will then make every document recomputed
at each run. To prevent this, the <code>--depcut</code> option specifies
to use non-recursive dependencies in the caching strategy.
</p>
</div>

<div class="section"><div aria-level="1" class="section-title" id="filter" role="heading">Filtering published documents</div>
<p>
By default, Stog will not compute documents having definition
<span class="icode"><span class="hl std">published="false"</span></span> or <span class="icode"><span class="hl std">published="0"</span></span>
in its header.
</p>
<p>The <span class="icode"><span class="hl std">--publish-only</span></span> option takes a filter and will
make Stog keep only the documents matching this filter.
</p>
<p>
For example, the following command will compute all documents except
the ones having "ocaml" in their topics:
</p>
<pre># stog --publish-only "! (topic='ocaml')" ...</pre>
<p>
See <a href="https://zoggy.github.io/stog/module_base.html#documents">here</a> for filter syntax. Beware
that the condition to keep only some documents to publish is evaluated
without performing XML rewriting on the document definitions, as opposed
as when evaluating filters in the <span class="icode"><span class="hl kwa">&lt;documents</span><span class="hl kwa">&gt;</span></span> rule.
</p>
<p>Some attributes in the filter are handled specially:</p>
<ul>
<li><span class="icode"><span class="hl std">type="t"</span></span> is true if the document is of type <span class="icode"><span class="hl std">t</span></span>,</li>
<li><span class="icode"><span class="hl std">keyword="k"</span></span> is true if the document has <span class="icode"><span class="hl std">k</span></span> among its keywords,</li>
<li><span class="icode"><span class="hl std">topic="t"</span></span> is true if the document has <span class="icode"><span class="hl std">t</span></span> among its topics,</li>
<li><span class="icode"><span class="hl std">set="s"</span></span> is true if the document belong to set <span class="icode"><span class="hl std">s</span></span>.</li>
</ul>
<p>
At last, the condition <span class="icode"><span class="hl std">foo=""</span></span> is true if the document has no
attribute <span class="icode"><span class="hl std">foo</span></span> or if the attribute <span class="icode"><span class="hl std">foo</span></span> is empty.
</p>
</div>

<div class="section"><div aria-level="1" class="section-title" id="makefile" role="heading">Using with Make</div>
<p>
A convenient way to use stog is to create a Makefile with different targets,
to generate your site for a local test and for online publishing.
Have a look at <span class="ext-a"><a href="https://github.com/zoggy/stog/tree/master/doc/Makefile">this
Makefile</a></span> used to build stog documentation.
</p>
</div>





<p class="doccode alert alert-info">
For information you can see the <a href="#pagesource"> source code of the page</a>.
</p>
<div id="pagesource">
  <pre class="code-xml"><span class="hl kwa">&lt;page</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">"Running Stog"</span><span class="hl std">
</span><span class="">navbar-doc</span><span class="hl std">=</span><span class="hl str">"active"</span><span class="hl std">
</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
To compile your web site, use the following command:
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;command</span><span class="hl kwa">&gt;</span><span class="hl std">stog </span><span class="hl kwb">&amp;lt;</span><span class="hl std">root-directory</span><span class="hl kwb">&amp;gt;</span><span class="hl kwa">&lt;/command</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">Stog will generate the result in </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">./stog-output</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">,
except if you use the </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">-d</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> option to specify another
output directory.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">You can specify a template directory with the </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--tmpl</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">
option. By default, the templates are searched in the </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">.stog/templates</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> directory
of the specified root directory.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
It is possible to give more than one directory to </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">stog</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">. In this case,
all documents are merged as if all were defined in the last directory
given. It may be useful to gather blogs or pages to generate one big site. Or not.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
Stog can also be used to </span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">"single-documents"</span><span class="hl kwa">&gt;</span><span class="hl std">compile single documents</span><span class="hl kwa">&lt;/doc</span><span class="hl kwa">&gt;</span><span class="hl std">.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;section</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">"siteurl"</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">"Site location"</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">The </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--site-url</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> option is used to override the </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">stog:site-url</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">
field of the main document. It it useful to generate a local site, for example
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;command</span><span class="hl kwa">&gt;</span><span class="hl std">stog --site-url file:///tmp/website your-directory</span><span class="hl kwa">&lt;/command</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
to test your site locally with correct links.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/section</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">"optionlocal"</span><span class="hl kwa">&gt;</span><span class="hl std">
As a shortcut, the </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--local</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> option sets </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">stog:site-url</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> to
</span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">file://</span><span class="hl kwb">&amp;lt;</span><span class="hl std">absolute path of output directory/</span><span class="hl kwb">&amp;gt;</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;section</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">"template-path"</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">"Template paths"</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">By default, Stog will look for templates in the following directories, in this
order: </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">.stog/templates</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">, </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">/path/to/stog/share/templates</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">The </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--tmpl </span><span class="hl kwb">&amp;lt;</span><span class="hl std">dir</span><span class="hl kwb">&amp;gt;</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> option allows to specify an additional
directory to look for templates, before the default ones. This options can be used
several times. In the following example:
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;command</span><span class="hl kwa">&gt;</span><span class="hl std">stog --tmpl dir1 --tmpl dir2 ...</span><span class="hl kwa">&lt;/command</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">Stog will look for templates in the following directories, in this order:
</span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">dir1</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">, </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">dir2</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">, </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">.stog/templates</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">,
</span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">/path/to/stog/share/templates</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/section</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;section</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">"module-path"</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">"Module paths"</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">By default, Stog will look for modules in the following directories, in this
order: </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">.stog/modules</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">, </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">/path/to/stog/share/modules</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">The </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--mods </span><span class="hl kwb">&amp;lt;</span><span class="hl std">dir</span><span class="hl kwb">&amp;gt;</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> option allows to specify an additional
directory to look for modules, before the default ones. This options can be used
several times. In the following example:
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;command</span><span class="hl kwa">&gt;</span><span class="hl std">stog --mods dir1 --mods dir2 ...</span><span class="hl kwa">&lt;/command</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">Stog will look for modules in the following directories, in this order:
</span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">dir1</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">, </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">dir2</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">, </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">.stog/modules</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">,
</span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">/path/to/stog/share/modules</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/section</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;section</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">"def"</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">"Additional definitions"</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">"optiondef"</span><span class="hl kwa">&gt;</span><span class="hl std">
The </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--def</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> option can be used to define an additional global rule. For example
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;command</span><span class="hl kwa">&gt;</span><span class="hl std">stog --def stogdir:`pwd`</span><span class="hl kwa">&lt;/command</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
will make the current working directory accessible using </span><span class="hl kwa">&lt;ixml</span><span class="hl kwa">&gt;</span><span class="hl kwb">&amp;lt;</span><span class="hl std">stogdir/</span><span class="hl kwb">&amp;gt;</span><span class="hl kwa">&lt;/ixml</span><span class="hl kwa">&gt;</span><span class="hl std">.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/section</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;section</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">"plugins"</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">"Plugins"</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">The </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--plugin</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> option makes </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">stog</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> dynamically
load the given OCaml object file. The loaded plugin can define new functions
to associate to some tags, or even override some pre-defined functions.
See </span><span class="hl kwa">&lt;page</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">"writing_plugins"</span><span class="hl kwa">/&gt;</span><span class="hl std">.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
If a plugin was installed with ocamlfind, the </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--package</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> option can be used
to specify a list of comma-separated packages to load. </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">ocamlfind</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> will
then be used to get the location and required files to load these packages, in bytecode
for </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">stog.byte</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> or native-code for </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">stog</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/section</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;section</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">"multilang"</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">"Handling languages"</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">The </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--lang</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> option is used to generate the website
for one language. By default, the only known languages are "en" and "fr".
If you use the </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--lang en</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> option, then pages will be generated
in </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">.html.en</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> files and all </span><span class="hl kwa">&lt;ixml</span><span class="hl kwa">&gt;</span><span class="hl kwb">&amp;lt;</span><span class="hl std">fr</span><span class="hl kwb">&amp;gt;</span><span class="hl kwa">&lt;/ixml</span><span class="hl kwa">&gt;</span><span class="hl std"> nodes will be removed.
Then you can run </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">stog</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> with the </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--lang fr</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">
to generate the "fr" part of your web site, removing all </span><span class="hl kwa">&lt;ixml</span><span class="hl kwa">&gt;</span><span class="hl kwb">&amp;lt;</span><span class="hl std">en</span><span class="hl kwb">&amp;gt;</span><span class="hl kwa">&lt;/ixml</span><span class="hl kwa">&gt;</span><span class="hl std">.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
The default language is "en". It is used when generating date representations.
The default language can be changed by using the </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--default-lang</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> option,
for example:
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;command</span><span class="hl kwa">&gt;</span><span class="hl std">stog --default-lang fr ...</span><span class="hl kwa">&lt;/command</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">will generate pages with no language suffix, but with dates printed in french.</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl com">&lt;!--
&lt;p&gt;
If you need more languages, just define "stog:languages" in the main document
this way:
&lt;/p&gt;
&lt;hcode&gt;&lt;![CDATA[&lt;type main="true" ... stog:languages="es,de,fr,en"&gt;...&lt;/type&gt;]]&gt;&lt;/hcode&gt;
&lt;p&gt;This makes &amp;lt;languages/&amp;gt; returning the list of languages, and it is used by
the provided
--&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/section</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;section</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">"caching"</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">"Caching"</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
Stog will keep computed documents in directory </span><span class="hl kwa">&lt;code</span><span class="hl kwa">&gt;</span><span class="hl std">.stog/cache</span><span class="hl kwa">&lt;/code</span><span class="hl kwa">&gt;</span><span class="hl std">.
To prevent stog from using this cache, use the </span><span class="hl kwa">&lt;code</span><span class="hl kwa">&gt;</span><span class="hl std">--nocache</span><span class="hl kwa">&lt;/code</span><span class="hl kwa">&gt;</span><span class="hl std">
command line option. The cache won't be read, but it will nevertheless
be updated by contents of computed documents.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
The caching strategy uses dependencies between documents: if a document
refers to another one (see </span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">"funs"</span><span class="hl kwa">/&gt;</span><span class="hl std">), a dependency will be
added and stored in the cache directory, so that this dependency will
be used during the next run of stog. A document can also depend
on files: the templates used, the files included, ... Dependencies are
recursively computed.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
In some cases, using recursive dependencies may be too complete. For example,
if you have a menubar appearing in all pages, all pages will depend on
the documents referenced by the menubar, leading to all documents depending
on all documents. A change in any document will then make every document recomputed
at each run. To prevent this, the </span><span class="hl kwa">&lt;code</span><span class="hl kwa">&gt;</span><span class="hl std">--depcut</span><span class="hl kwa">&lt;/code</span><span class="hl kwa">&gt;</span><span class="hl std"> option specifies
to use non-recursive dependencies in the caching strategy.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/section</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;section</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">"filter"</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">"Filtering published documents"</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
By default, Stog will not compute documents having definition
</span><span class="hl kwa">&lt;ixml</span><span class="hl kwa">&gt;</span><span class="hl std">published="false"</span><span class="hl kwa">&lt;/ixml</span><span class="hl kwa">&gt;</span><span class="hl std"> or </span><span class="hl kwa">&lt;ixml</span><span class="hl kwa">&gt;</span><span class="hl std">published="0"</span><span class="hl kwa">&lt;/ixml</span><span class="hl kwa">&gt;</span><span class="hl std">
in its header.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">The </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">--publish-only</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> option takes a filter and will
make Stog keep only the documents matching this filter.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
For example, the following command will compute all documents except
the ones having "ocaml" in their topics:
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;command</span><span class="hl kwa">&gt;</span><span class="hl std">stog --publish-only "! (topic='ocaml')" ...</span><span class="hl kwa">&lt;/command</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
See </span><span class="hl kwa">&lt;doc</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">"module_base#documents"</span><span class="hl kwa">&gt;</span><span class="hl std">here</span><span class="hl kwa">&lt;/doc</span><span class="hl kwa">&gt;</span><span class="hl std"> for filter syntax. Beware
that the condition to keep only some documents to publish is evaluated
without performing XML rewriting on the document definitions, as opposed
as when evaluating filters in the </span><span class="hl kwa">&lt;rule</span><span class="hl kwa">&gt;</span><span class="hl std">documents</span><span class="hl kwa">&lt;/rule</span><span class="hl kwa">&gt;</span><span class="hl std"> rule.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">Some attributes in the filter are handled specially:</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;ul</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;li</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">type="t"</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> is true if the document is of type </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">t</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">,</span><span class="hl kwa">&lt;/li</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;li</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">keyword="k"</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> is true if the document has </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">k</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> among its keywords,</span><span class="hl kwa">&lt;/li</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;li</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">topic="t"</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> is true if the document has </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">t</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> among its topics,</span><span class="hl kwa">&lt;/li</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;li</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">set="s"</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> is true if the document belong to set </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">s</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std">.</span><span class="hl kwa">&lt;/li</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/ul</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
At last, the condition </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">foo=""</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> is true if the document has no
attribute </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">foo</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> or if the attribute </span><span class="hl kwa">&lt;icode</span><span class="hl kwa">&gt;</span><span class="hl std">foo</span><span class="hl kwa">&lt;/icode</span><span class="hl kwa">&gt;</span><span class="hl std"> is empty.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/section</span><span class="hl kwa">&gt;</span><span class="hl std">

</span><span class="hl kwa">&lt;section</span><span class="hl std"> </span><span class="">id</span><span class="hl std">=</span><span class="hl str">"makefile"</span><span class="hl std"> </span><span class="">title</span><span class="hl std">=</span><span class="hl str">"Using with Make"</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;p</span><span class="hl kwa">&gt;</span><span class="hl std">
A convenient way to use stog is to create a Makefile with different targets,
to generate your site for a local test and for online publishing.
Have a look at </span><span class="hl kwa">&lt;ext-a</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">"https://github.com/zoggy/stog/tree/master/doc/Makefile"</span><span class="hl kwa">&gt;</span><span class="hl std">this
Makefile</span><span class="hl kwa">&lt;/ext-a</span><span class="hl kwa">&gt;</span><span class="hl std"> used to build stog documentation.
</span><span class="hl kwa">&lt;/p</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/section</span><span class="hl kwa">&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/page</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre>
</div>


<div id="footer">
<div class="generatedon">Generated on November 30, 2016 at 12h46</div>
</div>
<!--&lt;script type="text/javascript" src="&lt;site-url/&gt;/jquery.js"&gt;_&lt;/script&gt;-->
<!--&lt;script type="text/javascript" src="&lt;site-url/&gt;/bootstrap-collapse.js"&gt;_&lt;/script&gt;-->

</div> <!-- #page -->
</body>
</html>
