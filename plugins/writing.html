<!DOCTYPE HTML>
<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Stog : Stog-writing</title>
<link href="https://zoggy.github.io/stog/style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="page">
<div class="navbar navbar-fixed-top">
<div class="navbar-inner">
<div class="container">


  <div class="nav-collapse">
    <ul class="nav">
    <li class="&lt;navbar-home/&gt;"><a href="https://zoggy.github.io/stog/index.html">Stog</a></li>
    <li class="&lt;navbar-install/&gt;"><a href="https://zoggy.github.io/stog/install.html">Installation</a></li>
    <li class="&lt;navbar-doc/&gt;"><a href="https://zoggy.github.io/stog/doc.html">Documentation</a></li>
    <li class="active"><a href="https://zoggy.github.io/stog/plugins.html">Plugins</a></li>
    <li class="&lt;navbar-blog/&gt;"><a href="https://zoggy.github.io/stog/blog.html">Blog</a></li>
    <li class="&lt;navbar-about/&gt;"><a href="https://zoggy.github.io/stog/about.html">?</a></li>
  </ul>
  <div class="nav pull-right">  </div>
  </div>

</div>
</div>
</div>

<div id="header">
  
  <a href="https://zoggy.github.io/stog/plugins.html">Plugins</a>
  
  <div class="page-title">Stog-writing</div>
</div>




<p>
This plugin adds new rewrite rules to use the following documents in your pages:
</p>
<ul>
<li><a href="https://zoggy.github.io/stog/plugins/writing.html#footnotes">Footnotes</a>,</li>
<li><a href="https://zoggy.github.io/stog/plugins/writing.html#biblio">Bibliography</a>.</li>
</ul>

<div class="section"><div class="section-title" id="download">Download</div>
<div class="alert alert-info">
Stog-writing is available in <span class="ext-a"><a href="http://opam.ocaml.org/">Opam</a></span>.
With opam installed, just type the following command to install stog-writing:
<pre class="code-sh">opam <span class="hl kwc">install</span> stog<span class="hl opt">-</span>writing</pre>
</div>
<p>
Stog-writing is <span class="ext-a"><a href="https://github.com/zoggy/stog-writing">hosted on Github</a></span>.
</p>
<div class="subsection"><div class="subsection-title" id="releases">Releases</div>
<ul>
<li><a href="stog-writing-0.13.0.tar.gz">0.13.0</a> [2014/10/09]:
  <ul>
    <li>more powerful format specification in <span class="icode"><span class="hl kwa">&lt;cite</span><span class="hl kwa">&gt;</span></span>:
  <span class="icode"><span class="hl kwa">&lt;cite</span><span class="hl std"> </span><span class="">begin</span><span class="hl std">=</span><span class="hl str">&quot;...&quot;</span><span class="hl std"> </span><span class="">end</span><span class="hl std">=</span><span class="hl str">&quot;...&quot;</span><span class="hl std"> </span><span class="">sep</span><span class="hl std">=</span><span class="hl str">&quot;...&quot;</span><span class="hl std"> </span><span class="">format</span><span class="hl std">=</span><span class="hl str">&quot;...&quot;</span><span class="hl kwa">/&gt;</span></span>
  and also look for <span class="icode"><span class="hl kwa">&lt;cite-begin</span><span class="hl kwa">&gt;</span></span>, <span class="icode"><span class="hl kwa">&lt;cite-end</span><span class="hl kwa">&gt;</span></span>
  and <span class="icode"><span class="hl kwa">&lt;cite-sep</span><span class="hl kwa">&gt;</span></span> in environment,</li>
  <li><span class="icode"><span class="hl kwa">&lt;bibliography</span><span class="hl std"> </span><span class="">keywords</span><span class="hl std">=</span><span class="hl str">&quot;kwd1,..&quot;</span><span class="hl kwa">&gt;</span></span> to include bibliography items
    having the required keywords associated in <span class="icode"><span class="hl std">keywords</span></span> fields
  </li>
  </ul>
</li>
<li><a href="stog-writing-0.12.0.tar.gz">0.12.0</a> [2014/05/16]:
  <ul>
    <li>Upgrade to Stog 0.12.0.</li>
  </ul>
</li>
<li><a href="stog-writing-0.11.0.tar.gz">0.11.0</a> [2014/03/20]:
  <ul>
    <li><span class="icode"><span class="hl kwa">&lt;note</span><span class="hl kwa">&gt;</span></span> handles an id attribute used instead of the one
  forged from the note number,</li>
    <li>follow changes in Stog 0.11.0 (hids-&gt;paths, documents instead of elements),</li>
    <li>use <span class="icode"><span class="hl kwa">&lt;doc</span><span class="hl kwa">&gt;</span></span> tag to generate links to bibliography references.</li>
  </ul>
</li>
<li><a href="stog-writing-0.10.0.tar.gz">0.10.0</a> [2014/01/21]:
  <ul>
    <li>Upgrade to new Stog 0.10.0 architecture,</li>
    <li>Add class for footnote links,</li>
    <li>Handle multiple references in <span class="icode"><span class="hl kwa">&lt;cite</span><span class="hl kwa">&gt;</span></span>,</li>
    <li>Apply base rules when bulding bib entries,</li>
    <li>Use template <code>bib-entry.tmpl</code>
        instead of <code>bib_entry.tmpl</code>,</li>
    <li>Fix: generate paragraph link code even for paragraphs with predefined ids,</li>
    <li>Simplify auto id generation.</li>
  </ul>
</li>
<li><a href="stog-writing-0.8.0.tar.gz">0.8.0</a> [2013/03/19]: Upgrade to Stog 0.8.0.</li>
<li><a href="stog-writing-0.7.0.tar.gz">0.7.0</a> [2013/02/13]: Minor fixes.</li>
<li><a href="stog-writing-0.6.tar.gz">0.6</a>: First numbered release.</li>
</ul>
</div>
</div>

<div class="section"><div class="section-title" id="install">Installation and usage</div>
<p>
To install:
</p>
<pre class="code-sh">git clone git@github.com<span class="hl opt">:</span>zoggy<span class="hl opt">/</span>stog<span class="hl opt">-</span>writing.git
<span class="hl kwb">cd</span> stog<span class="hl opt">-</span>writing
<span class="hl kwc">make</span> all <span class="hl kwc">install</span></pre>
<p>
(you must have <span class="ext-a"><a href="http://cristal.inria.fr/~fpottier/menhir/">Menhir</a></span> installed).
This will install the <span class="icode"><span class="hl std">stog-writing</span></span> package with ocamlfind.
</p>
<p>
To use:
</p>
<pre class="code-sh">stog <span class="hl opt">--</span>package stog<span class="hl opt">-</span>writing ...</pre>

</div>

<div class="section"><div class="section-title" id="footnotes">Footnotes</div>
<p>
Footnotes are defined with the following syntax:
</p>
<pre class="code-xml"><span class="hl kwa">&lt;note</span><span class="hl kwa">&gt;</span><span class="hl std">...</span><span class="hl kwa">&lt;/note</span><span class="hl kwa">&gt;</span></pre>
<p>
As usual, you can put any xml in the <span class="icode"><span class="hl kwa">&lt;note</span><span class="hl kwa">&gt;</span></span> node, it will be
rewritten using the current environment.
</p>
<p>
For this to work, all the XML tree containing notes must be
included in a node
</p>
<pre class="code-xml"><span class="hl kwa">&lt;prepare-notes</span><span class="hl kwa">&gt;</span><span class="hl std">
  ...
</span><span class="hl kwa">&lt;/prepare-notes</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre>
<p>
At last, all footnotes are inserted when a <span class="icode"><span class="hl kwa">&lt;notes</span><span class="hl kwa">/&gt;</span></span> node is encountered.
Numbering is automatic.
</p>
<p>
Example:
</p>
<pre class="code-xml"><span class="hl kwa">&lt;prepare-notes</span><span class="hl kwa">&gt;</span><span class="hl std">
    ...
    bla bla bla</span><span class="hl kwa">&lt;note</span><span class="hl kwa">&gt;</span><span class="hl std">Hey, this is a footnote</span><span class="hl kwa">&lt;/note</span><span class="hl kwa">&gt;</span><span class="hl std">.
    ...
    pim pam poum</span><span class="hl kwa">&lt;note</span><span class="hl kwa">&gt;</span><span class="hl std">This is a second note.</span><span class="hl kwa">&lt;/note</span><span class="hl kwa">&gt;</span><span class="hl std">.
    ...
    </span><span class="hl kwa">&lt;notes</span><span class="hl kwa">/&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/prepare-notes</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre>
</div>

<div class="section"><div class="section-title" id="biblio">Bibliography</div>
<div class="subsection"><div class="subsection-title" id="definebib">Defining bibliographies</div>
<p>
Bibliographies can be defined in any document header, with the following syntax:
</p>
<pre class="code-xml"><span class="hl kwa">&lt;bibliographies</span><span class="hl std"> ...</span><span class="hl kwa">&gt;</span><span class="hl std">
  </span><span class="hl kwa">&lt;bibliography</span><span class="hl std"> ...</span><span class="hl kwa">/&gt;</span><span class="hl std">
  </span><span class="hl kwa">&lt;bibliography</span><span class="hl std"> ...</span><span class="hl kwa">/&gt;</span><span class="hl std">
  ...
</span><span class="hl kwa">&lt;/bibliographies</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre>
<p>
The <span class="icode"><span class="hl kwa">&lt;bibliographies</span><span class="hl kwa">&gt;</span></span> node can have the following attributes:
</p>
<ul>
<li><span class="icode"><span class="hl std">sort=&quot;...&quot;</span></span>:
  the items in each bibliography will be sorted by default, according
  to the given list of comma-separated fields,</li>
<li><span class="icode"><span class="hl std">reverse=&quot;true&quot;</span></span>:
   the items in each bibliography will be sorted in reverse order,</li>
<li><span class="icode"><span class="hl std">prefix=&quot;...&quot;</span></span>:
   a default string to use as prefix for ids of entries read from bibtex files.</li>
</ul>
<p>
Each <span class="icode"><span class="hl kwa">&lt;bibliography</span><span class="hl kwa">&gt;</span></span> node can have the following attributes:
</p>
<ul>
<li><span class="icode"><span class="hl std">name=&quot;...&quot;</span></span>:
   the name of the bibliography, for further reference; default name is &quot;default&quot;;
              each bibliography must have a site-wide unique name,</li>
<li><span class="icode"><span class="hl std">files=&quot;...&quot;</span></span>:
   a comma-separated list of filenames, in bibtex format;
   filenames are relative to the document source file,</li>
<li><span class="icode"><span class="hl std">sort</span></span>, <span class="icode"><span class="hl std">reverse</span></span> and <span class="icode"><span class="hl std">prefix</span></span>:
  can be used to override the same attributes of the <span class="icode"><span class="hl kwa">&lt;bibliographies</span><span class="hl kwa">&gt;</span></span> node.
</li>
</ul>
<p>
Using attribute <span class="icode"><span class="hl std">bib-files=&quot;file1.bib,file2.bib,...&quot;</span></span> in an document
header is a shortcut for
</p>
<pre class="code-xml"><span class="hl kwa">&lt;bibliographies</span><span class="hl kwa">&gt;</span><span class="hl std">
  </span><span class="hl kwa">&lt;bibliography</span><span class="hl std"> </span><span class="">files</span><span class="hl std">=</span><span class="hl str">&quot;file1.bib,file2.bib,...&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/bibliographies</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre>
</div>

<div class="subsection"><div class="subsection-title" id="usingbib">Using bibliographies</div>
<p>
In your pages and posts, you can use this syntax to cite an entry:
</p>
<pre class="code-xml"><span class="hl std">    </span><span class="hl kwa">&lt;cite</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;entryid&quot;</span><span class="hl kwa">/&gt;</span><span class="hl std">
</span></pre>
<p>
The format of the reference can be set by various means, in order of priority:
</p>
<ul>
<li>in the children of the <span class="icode"><span class="hl kwa">&lt;cite</span><span class="hl kwa">&gt;</span></span> node, for example:
  <pre class="code-xml"><span class="hl kwa">&lt;cite</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;...&quot;</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;bib-entry-author</span><span class="hl kwa">/&gt;</span><span class="hl std">, </span><span class="hl kwa">&lt;i</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;bib-entry-title</span><span class="hl kwa">/&gt;</span><span class="hl kwa">&lt;/i</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/cite</span><span class="hl kwa">&gt;</span></pre>
</li>
<li>using the <span class="icode"><span class="hl std">format</span></span> attribute, for example:
  <pre class="code-xml"><span class="hl kwa">&lt;cite</span><span class="hl std"> </span><span class="">format</span><span class="hl std">=</span><span class="hl str">&quot;$(author): $(title)&quot;</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">&quot;entryid&quot;</span><span class="hl kwa">/&gt;</span></pre>
</li>
<li>setting <span class="icode"><span class="hl std">cite-format</span></span> in the environment, for example in the header
  of the page/article:
  <pre class="code-xml"><span class="hl kwa">&lt;cite-format</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;bib-entry-author</span><span class="hl kwa">/&gt;</span><span class="hl std">, </span><span class="hl kwa">&lt;i</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;bib-entry-title</span><span class="hl kwa">/&gt;</span><span class="hl kwa">&lt;/i</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/cite-format</span><span class="hl kwa">&gt;</span></pre>
</li>
</ul>
<p>
These examples will display the contents of the fields <span class="icode"><span class="hl std">author</span></span> and <span class="icode"><span class="hl std">title</span></span>
of the entry as text for the reference link.
</p>
<p>The default format is <span class="icode"><span class="hl std">[</span><span class="hl kwa">&lt;bib-entry-rank</span><span class="hl kwa">/&gt;</span><span class="hl std">]</span></span>.</p>
<p>The rank is the position of the item in its bibliography.</p>
<p>
The characters used to enclose the reference text are '[' and ']' but
can be changed:
</p>
<ul>
<li>by using the <span class="icode"><span class="hl std">cite-begin</span></span> and <span class="icode"><span class="hl std">cite-end</span></span> attributes
in the <span class="icode"><span class="hl kwa">&lt;cite</span><span class="hl kwa">&gt;</span></span> rule,</li>
<li>or by defining <span class="icode"><span class="hl std">cite-begin</span></span> and <span class="icode"><span class="hl std">cite-end</span></span> in the
environement (of the document or for the whole site).
</li>
</ul>
<p>In case the <span class="icode"><span class="hl std">href</span></span> attribute contains several references,
a separator is used between reference texts. By default it is &quot;,&quot; but it
can be changed by using the <span class="icode"><span class="hl std">cite-sep</span></span> attribute in the <span class="icode"><span class="hl kwa">&lt;cite</span><span class="hl kwa">&gt;</span></span>
rule, or by setting <span class="icode"><span class="hl std">cite-sep</span></span> in the environment.
</p>
<p>
To include the complete list of entries of a bibliography, use the following node:
</p>
<pre class="code-xml"><span class="hl kwa">&lt;bibliography</span><span class="hl kwa">/&gt;</span></pre>
<p>
The attribute <span class="icode"><span class="hl std">name=&quot;...&quot;</span></span> can be used to specify the name of the bibliography to
insert. Default name is &quot;default&quot;. The attribute <span class="icode"><span class="hl std">keywords=...&quot;</span></span> allows to
filter the entries according to the keywods they are associated to, using the
<span class="icode"><span class="hl std">keywords</span></span> field in the <span class="icode"><span class="hl std">.bib</span></span> files.
</p>
<p>
The <span class="icode"><span class="hl kwa">&lt;bibliography</span><span class="hl kwa">&gt;</span></span> node will reduced into the list of its entries,
each entry being inserted using the <span class="icode"><span class="hl std">bib-entry.tmpl</span></span> template. You can use
the <span class="icode"><span class="hl std">bib-entry.tmpl</span></span> file included as an example. You will have to place it in your stog
template directory.
</p>
</div>
</div>






<div id="footer">
<div class="generatedon">Generated on May 19, 2015 at 20h45</div>
</div>



</div> 
</body>
</html>
