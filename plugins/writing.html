<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="application/xhtml+xml; charset=utf-8" http-equiv="Content-Type"/>
<title>Stog : Stog-writing</title>
<link href="https://zoggy.github.io/stog/style.css" rel="stylesheet" type="text/css"/>
</head>
<script type="text/javascript">
function submitSearch(){
    var q = document.getElementById('q');
    q.value =q.value + " site:https://zoggy.github.io/stog ";
    return true;
}
</script>
<body>
<div id="page">
<div class="navbar navbar-fixed-top">
<div class="navbar-inner">
<div class="container">

<!--&lt;image float="right" src="&lt;site-url/&gt;/stog-logo.svg" width="30"/&gt;-->

  <div class="nav-collapse">
    <ul class="nav">
    <li class="&lt;navbar-home/&gt;"><a href="https://zoggy.github.io/stog/index.html">Stog</a></li>
    <li class="&lt;navbar-install/&gt;"><a href="https://zoggy.github.io/stog/install.html">Installation</a></li>
    <li class="&lt;navbar-doc/&gt;"><a href="https://zoggy.github.io/stog/doc.html">Documentation</a></li>
    <li class="active"><a href="https://zoggy.github.io/stog/plugins.html">Plugins</a></li>
    <li class="&lt;navbar-blog/&gt;"><a href="https://zoggy.github.io/stog/blog.html">Blog</a></li>
    <li class="&lt;navbar-about/&gt;"><a href="https://zoggy.github.io/stog/about.html">?</a></li>
    </ul>
<!--
    &lt;div class="nav pull-right"&gt;
       &lt;form action="https://qwant.com/" method="GET"
         onsubmit="submitSearch();"
         style="overflow:hidden;margin:0;margin-top:5px;padding:0;height:28px;display:flex;"
         frameborder="0"&gt;
         &lt;input style="width: 100px;" type="text" id="q" placeHolder="Search" name="q"/&gt;
         &lt;input style="font-size: 0.8em" type="submit" value="ðŸ”Ž"/&gt;
       &lt;/form&gt;
    &lt;/div&gt;
-->
  </div>

</div>
</div>
</div>

<div id="header">
  
  <a href="https://zoggy.github.io/stog/plugins.html">Plugins</a>
  
  <div class="page-title">Stog-writing</div>
</div>




<p>
This plugin adds
<span id="desc">new rewrite rules to use <a href="https://zoggy.github.io/stog/plugins/writing.html#footnotes">footnotes</a>
and <a href="https://zoggy.github.io/stog/plugins/writing.html#biblio">bibliographies</a> in your documents</span>.
</p>
<!--&lt;todo&gt;Add about automatic ids and config file&lt;/todo&gt;-->

<div class="section"><div aria-level="1" class="section-title" id="download" role="heading">Download</div>
<div class="alert alert-info">
Stog-writing is available in <span class="ext-a"><a href="http://opam.ocaml.org/">Opam</a></span>.
With opam installed, just type the following command to install stog-writing:
<pre class="code-sh">opam <span class="hl kwc">install</span> stog-writing</pre>
</div>
<p>
Stog-writing is <span class="ext-a"><a href="https://github.com/zoggy/stog-writing">hosted on Github</a></span>.
</p>
<div class="subsection"><div aria-level="2" class="subsection-title" id="releases" role="heading">Releases</div>
<ul>
<li><a href="stog-writing-0.17.0.tar.gz">0.17.0</a> [2016/11/30]:
  <ul id="changes0.17.0">
  <li>when generating ids, use attribute values if could not get
  a non-empty id from cdata</li>
  <li>in configuration file, it is now possible to specify for each tag whether
  to add anchor link and whether to embed the link and the block in another tag.</li>
  </ul>
</li>
<li><a href="stog-writing-0.16.0.tar.gz">0.16.0</a> [2015/11/25]:
  <ul id="changes0.16.0"><li>Upgrade to Stog 0.16.0 and Xtmpl 0.13.0</li></ul>
</li>
<li><a href="stog-writing-0.13.0.tar.gz">0.13.0</a> [2014/10/09]:
  <ul>
    <li>more powerful format specification in <span class="icode"><span class="hl kwa">&lt;cite</span><span class="hl kwa">&gt;</span></span>:
  <span class="icode"><span class="hl kwa">&lt;cite</span><span class="hl std"> </span><span class="">begin</span><span class="hl std">=</span><span class="hl str">"..."</span><span class="hl std"> </span><span class="">end</span><span class="hl std">=</span><span class="hl str">"..."</span><span class="hl std"> </span><span class="">sep</span><span class="hl std">=</span><span class="hl str">"..."</span><span class="hl std"> </span><span class="">format</span><span class="hl std">=</span><span class="hl str">"..."</span><span class="hl kwa">/&gt;</span></span>
  and also look for <span class="icode"><span class="hl kwa">&lt;cite-begin</span><span class="hl kwa">&gt;</span></span>, <span class="icode"><span class="hl kwa">&lt;cite-end</span><span class="hl kwa">&gt;</span></span>
  and <span class="icode"><span class="hl kwa">&lt;cite-sep</span><span class="hl kwa">&gt;</span></span> in environment,</li>
  <li><span class="icode"><span class="hl kwa">&lt;bibliography</span><span class="hl std"> </span><span class="">keywords</span><span class="hl std">=</span><span class="hl str">"kwd1,.."</span><span class="hl kwa">&gt;</span></span> to include bibliography items
    having the required keywords associated in <span class="icode"><span class="hl std">keywords</span></span> fields
  </li>
  </ul>
</li>
<li><a href="stog-writing-0.12.0.tar.gz">0.12.0</a> [2014/05/16]:
  <ul>
    <li>Upgrade to Stog 0.12.0.</li>
  </ul>
</li>
<li><a href="stog-writing-0.11.0.tar.gz">0.11.0</a> [2014/03/20]:
  <ul>
    <li><span class="icode"><span class="hl kwa">&lt;note</span><span class="hl kwa">&gt;</span></span> handles an id attribute used instead of the one
  forged from the note number,</li>
    <li>follow changes in Stog 0.11.0 (hids-&gt;paths, documents instead of elements),</li>
    <li>use <span class="icode"><span class="hl kwa">&lt;doc</span><span class="hl kwa">&gt;</span></span> tag to generate links to bibliography references.</li>
  </ul>
</li>
<li><a href="stog-writing-0.10.0.tar.gz">0.10.0</a> [2014/01/21]:
  <ul>
    <li>Upgrade to new Stog 0.10.0 architecture,</li>
    <li>Add class for footnote links,</li>
    <li>Handle multiple references in <span class="icode"><span class="hl kwa">&lt;cite</span><span class="hl kwa">&gt;</span></span>,</li>
    <li>Apply base rules when bulding bib entries,</li>
    <li>Use template <code>bib-entry.tmpl</code>
        instead of <code>bib_entry.tmpl</code>,</li>
    <li>Fix: generate paragraph link code even for paragraphs with predefined ids,</li>
    <li>Simplify auto id generation.</li>
  </ul>
</li>
<li><a href="stog-writing-0.8.0.tar.gz">0.8.0</a> [2013/03/19]: Upgrade to Stog 0.8.0.</li>
<li><a href="stog-writing-0.7.0.tar.gz">0.7.0</a> [2013/02/13]: Minor fixes.</li>
<li><a href="stog-writing-0.6.tar.gz">0.6</a>: First numbered release.</li>
</ul>
</div>
</div>

<div class="section"><div aria-level="1" class="section-title" id="install" role="heading">Installation and usage</div>
<p>
To install:
</p>
<pre class="code-sh">git clone git@github.com<span class="hl opt">:</span>zoggy<span class="hl opt">/</span>stog-writing.git
<span class="hl kwb">cd</span> stog-writing
<span class="hl kwc">make</span> all <span class="hl kwc">install</span></pre>
<p>
(you must have <span class="ext-a"><a href="http://cristal.inria.fr/~fpottier/menhir/">Menhir</a></span> installed).
This will install the <span class="icode"><span class="hl std">stog-writing</span></span> package with ocamlfind.
</p>
<p>
To use:
</p>
<pre class="code-sh">stog <span class="hl opt">--</span>package stog-writing ...</pre>

</div>

<div class="section"><div aria-level="1" class="section-title" id="footnotes" role="heading">Footnotes</div>
<p>
Footnotes are defined with the following syntax:
</p>
<pre class="code-xml"><span class="hl kwa">&lt;note</span><span class="hl kwa">&gt;</span><span class="hl std">...</span><span class="hl kwa">&lt;/note</span><span class="hl kwa">&gt;</span></pre>
<p>
As usual, you can put any xml in the <span class="icode"><span class="hl kwa">&lt;note</span><span class="hl kwa">&gt;</span></span> node, it will be
rewritten using the current environment.
</p>
<p>
For this to work, all the XML tree containing notes must be
included in a node
</p>
<pre class="code-xml"><span class="hl kwa">&lt;prepare-notes</span><span class="hl kwa">&gt;</span><span class="hl std">
  ...
</span><span class="hl kwa">&lt;/prepare-notes</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre>
<p>
At last, all footnotes are inserted when a <span class="icode"><span class="hl kwa">&lt;notes</span><span class="hl kwa">/&gt;</span></span> node is encountered.
Numbering is automatic.
</p>
<p>
Example:
</p>
<pre class="code-xml"><span class="hl kwa">&lt;prepare-notes</span><span class="hl kwa">&gt;</span><span class="hl std">
    ...
    bla bla bla</span><span class="hl kwa">&lt;note</span><span class="hl kwa">&gt;</span><span class="hl std">Hey, this is a footnote</span><span class="hl kwa">&lt;/note</span><span class="hl kwa">&gt;</span><span class="hl std">.
    ...
    pim pam poum</span><span class="hl kwa">&lt;note</span><span class="hl kwa">&gt;</span><span class="hl std">This is a second note.</span><span class="hl kwa">&lt;/note</span><span class="hl kwa">&gt;</span><span class="hl std">.
    ...
    </span><span class="hl kwa">&lt;notes</span><span class="hl kwa">/&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/prepare-notes</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre>
</div>

<div class="section"><div aria-level="1" class="section-title" id="biblio" role="heading">Bibliography</div>
<div class="subsection"><div aria-level="2" class="subsection-title" id="definebib" role="heading">Defining bibliographies</div>
<p>
Bibliographies can be defined in any document header, with the following syntax:
</p>
<pre class="code-xml"><span class="hl kwa">&lt;bibliographies</span><span class="hl std"> ...</span><span class="hl kwa">&gt;</span><span class="hl std">
  </span><span class="hl kwa">&lt;bibliography</span><span class="hl std"> ...</span><span class="hl kwa">/&gt;</span><span class="hl std">
  </span><span class="hl kwa">&lt;bibliography</span><span class="hl std"> ...</span><span class="hl kwa">/&gt;</span><span class="hl std">
  ...
</span><span class="hl kwa">&lt;/bibliographies</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre>
<p>
The <span class="icode"><span class="hl kwa">&lt;bibliographies</span><span class="hl kwa">&gt;</span></span> node can have the following attributes:
</p>
<ul>
<li><span class="icode"><span class="hl std">sort="..."</span></span>:
  the items in each bibliography will be sorted by default, according
  to the given list of comma-separated fields,</li>
<li><span class="icode"><span class="hl std">reverse="true"</span></span>:
   the items in each bibliography will be sorted in reverse order,</li>
<li><span class="icode"><span class="hl std">prefix="..."</span></span>:
   a default string to use as prefix for ids of entries read from bibtex files.</li>
</ul>
<p>
Each <span class="icode"><span class="hl kwa">&lt;bibliography</span><span class="hl kwa">&gt;</span></span> node can have the following attributes:
</p>
<ul>
<li><span class="icode"><span class="hl std">name="..."</span></span>:
   the name of the bibliography, for further reference; default name is "default";
              each bibliography must have a site-wide unique name,</li>
<li><span class="icode"><span class="hl std">files="..."</span></span>:
   a comma-separated list of filenames, in bibtex format;
   filenames are relative to the document source file,</li>
<li><span class="icode"><span class="hl std">sort</span></span>, <span class="icode"><span class="hl std">reverse</span></span> and <span class="icode"><span class="hl std">prefix</span></span>:
  can be used to override the same attributes of the <span class="icode"><span class="hl kwa">&lt;bibliographies</span><span class="hl kwa">&gt;</span></span> node.
</li>
</ul>
<p>
Using attribute <span class="icode"><span class="hl std">bib-files="file1.bib,file2.bib,..."</span></span> in an document
header is a shortcut for
</p>
<pre class="code-xml"><span class="hl kwa">&lt;bibliographies</span><span class="hl kwa">&gt;</span><span class="hl std">
  </span><span class="hl kwa">&lt;bibliography</span><span class="hl std"> </span><span class="">files</span><span class="hl std">=</span><span class="hl str">"file1.bib,file2.bib,..."</span><span class="hl kwa">/&gt;</span><span class="hl std">
</span><span class="hl kwa">&lt;/bibliographies</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre>
</div>

<div class="subsection"><div aria-level="2" class="subsection-title" id="usingbib" role="heading">Using bibliographies</div>
<p>
In your pages and posts, you can use this syntax to cite an entry:
</p>
<pre class="code-xml"><span class="hl std">    </span><span class="hl kwa">&lt;cite</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">"entryid"</span><span class="hl kwa">/&gt;</span><span class="hl std">
</span></pre>
<p>
The format of the reference can be set by various means, in order of priority:
</p>
<ul>
<li>in the children of the <span class="icode"><span class="hl kwa">&lt;cite</span><span class="hl kwa">&gt;</span></span> node, for example:
  <pre class="code-xml"><span class="hl kwa">&lt;cite</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">"..."</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;bib-entry-author</span><span class="hl kwa">/&gt;</span><span class="hl std">, </span><span class="hl kwa">&lt;i</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;bib-entry-title</span><span class="hl kwa">/&gt;</span><span class="hl kwa">&lt;/i</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/cite</span><span class="hl kwa">&gt;</span></pre>
</li>
<li>using the <span class="icode"><span class="hl std">format</span></span> attribute, for example:
  <pre class="code-xml"><span class="hl kwa">&lt;cite</span><span class="hl std"> </span><span class="">format</span><span class="hl std">=</span><span class="hl str">"$(author): $(title)"</span><span class="hl std"> </span><span class="">href</span><span class="hl std">=</span><span class="hl str">"entryid"</span><span class="hl kwa">/&gt;</span></pre>
</li>
<li>setting <span class="icode"><span class="hl std">cite-format</span></span> in the environment, for example in the header
  of the page/article:
  <pre class="code-xml"><span class="hl kwa">&lt;cite-format</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;bib-entry-author</span><span class="hl kwa">/&gt;</span><span class="hl std">, </span><span class="hl kwa">&lt;i</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;bib-entry-title</span><span class="hl kwa">/&gt;</span><span class="hl kwa">&lt;/i</span><span class="hl kwa">&gt;</span><span class="hl kwa">&lt;/cite-format</span><span class="hl kwa">&gt;</span></pre>
</li>
</ul>
<p>
These examples will display the contents of the fields <span class="icode"><span class="hl std">author</span></span> and <span class="icode"><span class="hl std">title</span></span>
of the entry as text for the reference link.
</p>
<p>The default format is <span class="icode"><span class="hl std">[</span><span class="hl kwa">&lt;bib-entry-rank</span><span class="hl kwa">/&gt;</span><span class="hl std">]</span></span>.</p>
<p>The rank is the position of the item in its bibliography.</p>
<p>
The characters used to enclose the reference text are '[' and ']' but
can be changed:
</p>
<ul>
<li>by using the <span class="icode"><span class="hl std">cite-begin</span></span> and <span class="icode"><span class="hl std">cite-end</span></span> attributes
in the <span class="icode"><span class="hl kwa">&lt;cite</span><span class="hl kwa">&gt;</span></span> rule,</li>
<li>or by defining <span class="icode"><span class="hl std">cite-begin</span></span> and <span class="icode"><span class="hl std">cite-end</span></span> in the
environement (of the document or for the whole site).
</li>
</ul>
<p>In case the <span class="icode"><span class="hl std">href</span></span> attribute contains several references,
a separator is used between reference texts. By default it is "," but it
can be changed by using the <span class="icode"><span class="hl std">cite-sep</span></span> attribute in the <span class="icode"><span class="hl kwa">&lt;cite</span><span class="hl kwa">&gt;</span></span>
rule, or by setting <span class="icode"><span class="hl std">cite-sep</span></span> in the environment.
</p>
<p>
To include the complete list of entries of a bibliography, use the following node:
</p>
<pre class="code-xml"><span class="hl kwa">&lt;bibliography</span><span class="hl kwa">/&gt;</span></pre>
<p>
The attribute <span class="icode"><span class="hl std">name="..."</span></span> can be used to specify the name of the bibliography to
insert. Default name is "default". The attribute <span class="icode"><span class="hl std">keywords=..."</span></span> allows to
filter the entries according to the keywods they are associated to, using the
<span class="icode"><span class="hl std">keywords</span></span> field in the <span class="icode"><span class="hl std">.bib</span></span> files.
</p>
<p>
The <span class="icode"><span class="hl kwa">&lt;bibliography</span><span class="hl kwa">&gt;</span></span> node will reduced into the list of its entries,
each entry being inserted using the <span class="icode"><span class="hl std">bib-entry.tmpl</span></span> template. You can use
the <span class="icode"><span class="hl std">bib-entry.tmpl</span></span> file included as an example. You will have to place it in your stog
template directory.
</p>
</div>
</div>






<div id="footer">
<div class="generatedon">Generated on November 30, 2016 at 12h46</div>
</div>
<!--&lt;script type="text/javascript" src="&lt;site-url/&gt;/jquery.js"&gt;_&lt;/script&gt;-->
<!--&lt;script type="text/javascript" src="&lt;site-url/&gt;/bootstrap-collapse.js"&gt;_&lt;/script&gt;-->

</div> <!-- #page -->
</body>
</html>

