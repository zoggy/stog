<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="application/xhtml+xml; charset=utf-8" http-equiv="Content-Type"/>
<title>Stog : Stog-dot</title>
<link href="https://zoggy.github.io/stog/style.css" rel="stylesheet" type="text/css"/>
</head>
<script type="text/javascript">
function submitSearch(){
    var q = document.getElementById('q');
    q.value =q.value + " site:https://zoggy.github.io/stog ";
    return true;
}
</script>
<body>
<div id="page">
<div class="navbar navbar-fixed-top">
<div class="navbar-inner">
<div class="container">

<!--&lt;image float="right" src="&lt;site-url/&gt;/stog-logo.svg" width="30"/&gt;-->

  <div class="nav-collapse">
    <ul class="nav">
    <li class="&lt;navbar-home/&gt;"><a href="https://zoggy.github.io/stog/index.html">Stog</a></li>
    <li class="&lt;navbar-install/&gt;"><a href="https://zoggy.github.io/stog/install.html">Installation</a></li>
    <li class="&lt;navbar-doc/&gt;"><a href="https://zoggy.github.io/stog/doc.html">Documentation</a></li>
    <li class="active"><a href="https://zoggy.github.io/stog/plugins.html">Plugins</a></li>
    <li class="&lt;navbar-blog/&gt;"><a href="https://zoggy.github.io/stog/blog.html">Blog</a></li>
    <li class="&lt;navbar-about/&gt;"><a href="https://zoggy.github.io/stog/about.html">?</a></li>
    </ul>
    <div class="nav pull-right">
       <form action="https://qwant.com/" frameborder="0" method="GET" onsubmit="submitSearch();" style="overflow:hidden;margin:0;margin-top:5px;padding:0;height:28px;display:flex;">
         <input id="q" name="q" placeHolder="Search" style="width: 100px;" type="text"/>
         <input style="font-size: 0.8em" type="submit" value="ðŸ”Ž"/>
       </form>
    </div>
  </div>

</div>
</div>
</div>

<div id="header">
  
  <a href="https://zoggy.github.io/stog/plugins.html">Plugins</a>
  
  <div class="page-title">Stog-dot</div>
</div>




<p>
This plugin eases the <span id="desc">inclusion of Graphs using the
<span class="ext-a"><a href="http://graphviz.org">Graphiz</a></span> tools (dot, ...)</span>.
</p>
<p class="alert alert-warning">
The Graphviz tools must be installed to use this plugin.
</p>

<p>Usage:</p>
<pre class="code-sh">$ stog <span class="hl opt">--</span>package stog.dot ...</pre>

<p>This plugin adds a new <a href="https://zoggy.github.io/stog/module_base.html#base">base rule</a>
 <span class="icode"><span class="hl kwa">&lt;dot</span><span class="hl kwa">&gt;</span></span>.
Here are the possible ways to use it:
</p>
<table class="table table-bordered">
<tr><th>Code</th><th>Result</th></tr>
<tr>
<td>
Output to <code>graph1.svg</code>, using an <span class="icode"><span class="hl kwa">&lt;img</span><span class="hl kwa">&gt;</span></span>
node to show the image:
<div class="hide" id="code1"><![CDATA[
<dot outfile="graph1.svg">digraph g {
  rankdir = LR;
  a [ shape="box" ] ;
  a -> b; a -> c ; b -> c ;
}</dot>
]]></div>
<pre class="code-xml"><span class="hl kwa">&lt;dot</span><span class="hl std"> </span><span class="">outfile</span><span class="hl std">=</span><span class="hl str">"graph1.svg"</span><span class="hl kwa">&gt;</span><span class="hl std">digraph g {
  rankdir = LR;
  a [ shape="box" ] ;
  a -&gt; b; a -&gt; c ; b -&gt; c ;
}</span><span class="hl kwa">&lt;/dot</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre></td>
<td><img src="graph1.svg"/>
</td>
</tr>

<tr>
<td>
Output a <code>png</code> file to <code>graph2.png</code>,
use <code>neato</code> instead of <code>dot</code> in
the command and read source from <code>graph.dot</code>:
<div class="hide" id="code2"><![CDATA[
<dot command="neato"
   src="graph.dot" type="png" outfile="graph2.png"/>
]]></div>
<pre class="code-xml"><span class="hl kwa">&lt;dot</span><span class="hl std"> </span><span class="">command</span><span class="hl std">=</span><span class="hl str">"neato"</span><span class="hl std">
   </span><span class="">src</span><span class="hl std">=</span><span class="hl str">"graph.dot"</span><span class="hl std"> </span><span class="">type</span><span class="hl std">=</span><span class="hl str">"png"</span><span class="hl std"> </span><span class="">outfile</span><span class="hl std">=</span><span class="hl str">"graph2.png"</span><span class="hl kwa">/&gt;</span><span class="hl std">
</span></pre>
With <code>graph.dot</code>:
<pre class="code-dot"><span class="hl kwa">graph</span><span class="hl std"> g {
  a </span><span class="hl kwc">--</span><span class="hl std"> b ;
  a </span><span class="hl kwc">--</span><span class="hl std"> c ;
  a </span><span class="hl kwc">--</span><span class="hl std"> d ;
}</span></pre></td>
<td><img command="neato" src="graph2.png"/>
</td>
</tr>

<tr>
<td>
With <span class="icode"><span class="hl kwa">&lt;doc-</span><span class="hl std">...</span><span class="hl kwa">&gt;</span></span> rules to get links and labels,
using attribute <span class="icode"><span class="hl std">defer_="1"</span></span> in the <span class="icode"><span class="hl kwa">&lt;dot</span><span class="hl kwa">&gt;</span></span>
so that rewriting is performed in its children before the
code is being passed to dot:
<div class="hide" id="code3"><![CDATA[
<dot defer_="1">
digraph g {
  rankdir = LR;
  plugins -> asy ;
  plugins -> dot ;
  plugins [ href="<doc-url doc-path="plugins"/>" ]
  asy [
     href="<doc-url doc-path="plugins/asy"/>",
     label="<doc-title doc-path="plugins/asy"/>" ] ;
  dot [ href="<doc-url doc-path="plugins/dot"/>" ] ;
}</dot>
]]></div>
<pre class="code-xml"><span class="hl kwa">&lt;dot</span><span class="hl std"> </span><span class="">defer_</span><span class="hl std">=</span><span class="hl str">"1"</span><span class="hl kwa">&gt;</span><span class="hl std">
digraph g {
  rankdir = LR;
  plugins -&gt; asy ;
  plugins -&gt; dot ;
  plugins [ href="</span><span class="hl kwa">&lt;doc-url</span><span class="hl std"> </span><span class="">doc-path</span><span class="hl std">=</span><span class="hl str">"plugins"</span><span class="hl kwa">/&gt;</span><span class="hl std">" ]
  asy [
     href="</span><span class="hl kwa">&lt;doc-url</span><span class="hl std"> </span><span class="">doc-path</span><span class="hl std">=</span><span class="hl str">"plugins/asy"</span><span class="hl kwa">/&gt;</span><span class="hl std">",
     label="</span><span class="hl kwa">&lt;doc-title</span><span class="hl std"> </span><span class="">doc-path</span><span class="hl std">=</span><span class="hl str">"plugins/asy"</span><span class="hl kwa">/&gt;</span><span class="hl std">" ] ;
  dot [ href="</span><span class="hl kwa">&lt;doc-url</span><span class="hl std"> </span><span class="">doc-path</span><span class="hl std">=</span><span class="hl str">"plugins/dot"</span><span class="hl kwa">/&gt;</span><span class="hl std">" ] ;
}</span><span class="hl kwa">&lt;/dot</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre>
Since no <code>outfile</code> attribute is given, the <code>svg</code>
file produced is included (no use of <span class="icode"><span class="hl kwa">&lt;img</span><span class="hl kwa">&gt;</span></span>).
</td>
<td>The node labels are clickable and the links are generated
(and so valid) by Stog:
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 --><!-- Title: g Pages: 1 --><svg height="98pt" viewBox="0.00 0.00 199.99 98.00" width="200pt" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
<g class="graph" id="graph0" transform="scale(1 1) rotate(0) translate(4 94)">
<title>g</title>
<polygon fill="white" points="-4,4 -4,-94 195.986,-94 195.986,4 -4,4" stroke="none"/>
<!-- plugins -->
<g class="node" id="node1"><title>plugins</title>
<g id="a_node1"><a xlink:href="https://zoggy.github.io/stog/plugins.html" xlink:title="plugins">
<ellipse cx="36.3968" cy="-45" fill="none" rx="36.2938" ry="18" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="36.3968" y="-41.3">plugins</text>
</a>
</g>
</g>
<!-- asy -->
<g class="node" id="node2"><title>asy</title>
<g id="a_node2"><a xlink:href="https://zoggy.github.io/stog/plugins/asy.html" xlink:title="Stog-asy">
<ellipse cx="150.39" cy="-72" fill="none" rx="41.6928" ry="18" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="150.39" y="-68.3">Stog-asy</text>
</a>
</g>
</g>
<!-- plugins-&gt;asy -->
<g class="edge" id="edge1"><title>plugins-&gt;asy</title>
<path d="M69.4895,-52.7371C80.1878,-55.3163 92.3192,-58.241 103.839,-61.0183" fill="none" stroke="black"/>
<polygon fill="black" points="103.212,-64.4673 113.754,-63.4086 104.853,-57.6623 103.212,-64.4673" stroke="black"/>
</g>
<!-- dot -->
<g class="node" id="node3"><title>dot</title>
<g id="a_node3"><a xlink:href="https://zoggy.github.io/stog/plugins/dot.html" xlink:title="dot">
<ellipse cx="150.39" cy="-18" fill="none" rx="27" ry="18" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="150.39" y="-14.3">dot</text>
</a>
</g>
</g>
<!-- plugins-&gt;dot -->
<g class="edge" id="edge2"><title>plugins-&gt;dot</title>
<path d="M69.4895,-37.2629C83.6367,-33.8522 100.29,-29.8373 114.721,-26.3581" fill="none" stroke="black"/>
<polygon fill="black" points="115.868,-29.682 124.769,-23.9357 114.227,-22.877 115.868,-29.682" stroke="black"/>
</g>
</g>
</svg>

</td>
</tr>

<tr>
<td>
Including again the produced <code>svg</code> file. To avoid
conflicts in ids, we use the <span class="icode"><span class="hl std">prefix-svg-ids="foo"</span></span>
attribute:
<div class="hide" id="code4"><![CDATA[
<dot prefix-svg-ids="foo">digraph g {
  rankdir = LR;
  a [ shape="box" ] ;
  a -> b; a -> c ; b -> c ;
}</dot>]]></div>
<pre class="code-xml"><span class="hl kwa">&lt;dot</span><span class="hl std"> </span><span class="">prefix-svg-ids</span><span class="hl std">=</span><span class="hl str">"foo"</span><span class="hl kwa">&gt;</span><span class="hl std">digraph g {
  rankdir = LR;
  a [ shape="box" ] ;
  a -&gt; b; a -&gt; c ; b -&gt; c ;
}</span><span class="hl kwa">&lt;/dot</span><span class="hl kwa">&gt;</span></pre></td>
<td><!-- Generated by graphviz version 2.38.0 (20140413.2041)
 --><!-- Title: g Pages: 1 --><svg height="67pt" viewBox="0.00 0.00 242.00 67.00" width="242pt" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
<g class="graph" id="foograph0" transform="scale(1 1) rotate(0) translate(4 63)">
<title>g</title>
<polygon fill="white" points="-4,4 -4,-63 238,-63 238,4 -4,4" stroke="none"/>
<!-- a -->
<g class="node" id="foonode1"><title>a</title>
<polygon fill="none" points="54,-36 0,-36 0,-0 54,-0 54,-36" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="27" y="-14.3">a</text>
</g>
<!-- b -->
<g class="node" id="foonode2"><title>b</title>
<ellipse cx="117" cy="-41" fill="none" rx="27" ry="18" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="117" y="-37.3">b</text>
</g>
<!-- a-&gt;b -->
<g class="edge" id="fooedge1"><title>a-&gt;b</title>
<path d="M54.4029,-24.9008C63.0103,-27.1504 72.6933,-29.6812 81.7885,-32.0584" fill="none" stroke="black"/>
<polygon fill="black" points="81.1588,-35.5113 91.7188,-34.6538 82.9289,-28.7388 81.1588,-35.5113" stroke="black"/>
</g>
<!-- c -->
<g class="node" id="foonode3"><title>c</title>
<ellipse cx="207" cy="-18" fill="none" rx="27" ry="18" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="207" y="-14.3">c</text>
</g>
<!-- a-&gt;c -->
<g class="edge" id="fooedge2"><title>a-&gt;c</title>
<path d="M54.2278,-15.9325C65.2648,-15.16 78.2491,-14.3787 90,-14 113.988,-13.227 120.012,-13.227 144,-14 152.431,-14.2717 161.496,-14.7506 170.022,-15.2849" fill="none" stroke="black"/>
<polygon fill="black" points="169.865,-18.7821 180.075,-15.9538 170.33,-11.7975 169.865,-18.7821" stroke="black"/>
</g>
<!-- b-&gt;c -->
<g class="edge" id="fooedge3"><title>b-&gt;c</title>
<path d="M142.513,-34.5932C151.572,-32.2256 162.012,-29.497 171.775,-26.9452" fill="none" stroke="black"/>
<polygon fill="black" points="172.829,-30.2874 181.619,-24.3724 171.058,-23.5149 172.829,-30.2874" stroke="black"/>
</g>
</g>
</svg>
</td>
</tr>

<tr>
<td>The contents of the <code>args</code> attribute is used
as additional argument to the command which is run:
<div class="hide" id="code5"><![CDATA[

<dot prefix-svg-ids="bar" args="-Nshape=box">
digraph g {
  rankdir = LR;
  a -> b; a -> c ; b -> c ;
}</dot>
]]></div>
<pre class="code-xml"><span class="hl kwa">&lt;dot</span><span class="hl std"> </span><span class="">prefix-svg-ids</span><span class="hl std">=</span><span class="hl str">"bar"</span><span class="hl std"> </span><span class="">args</span><span class="hl std">=</span><span class="hl str">"-Nshape=box"</span><span class="hl kwa">&gt;</span><span class="hl std">
digraph g {
  rankdir = LR;
  a -&gt; b; a -&gt; c ; b -&gt; c ;
}</span><span class="hl kwa">&lt;/dot</span><span class="hl kwa">&gt;</span><span class="hl std">
</span></pre></td>
<td><!-- Generated by graphviz version 2.38.0 (20140413.2041)
 --><!-- Title: g Pages: 1 --><svg height="67pt" viewBox="0.00 0.00 242.00 67.00" width="242pt" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
<g class="graph" id="bargraph0" transform="scale(1 1) rotate(0) translate(4 63)">
<title>g</title>
<polygon fill="white" points="-4,4 -4,-63 238,-63 238,4 -4,4" stroke="none"/>
<!-- a -->
<g class="node" id="barnode1"><title>a</title>
<polygon fill="none" points="54,-36 0,-36 0,-0 54,-0 54,-36" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="27" y="-14.3">a</text>
</g>
<!-- b -->
<g class="node" id="barnode2"><title>b</title>
<polygon fill="none" points="144,-59 90,-59 90,-23 144,-23 144,-59" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="117" y="-37.3">b</text>
</g>
<!-- a-&gt;b -->
<g class="edge" id="baredge1"><title>a-&gt;b</title>
<path d="M54.4029,-24.9008C62.481,-27.0121 71.5067,-29.3711 80.1046,-31.6182" fill="none" stroke="black"/>
<polygon fill="black" points="79.3589,-35.0409 89.919,-34.1834 81.1291,-28.2684 79.3589,-35.0409" stroke="black"/>
</g>
<!-- c -->
<g class="node" id="barnode3"><title>c</title>
<polygon fill="none" points="234,-36 180,-36 180,-0 234,-0 234,-36" stroke="black"/>
<text font-family="Times,serif" font-size="14.00" text-anchor="middle" x="207" y="-14.3">c</text>
</g>
<!-- a-&gt;c -->
<g class="edge" id="baredge2"><title>a-&gt;c</title>
<path d="M54.2278,-15.9325C65.2648,-15.16 78.2491,-14.3787 90,-14 113.988,-13.227 120.012,-13.227 144,-14 152.354,-14.2692 161.332,-14.742 169.79,-15.2703" fill="none" stroke="black"/>
<polygon fill="black" points="169.562,-18.7629 179.772,-15.9325 170.026,-11.7782 169.562,-18.7629" stroke="black"/>
</g>
<!-- b-&gt;c -->
<g class="edge" id="baredge3"><title>b-&gt;c</title>
<path d="M144.403,-34.0992C152.481,-31.9879 161.507,-29.6289 170.105,-27.3818" fill="none" stroke="black"/>
<polygon fill="black" points="171.129,-30.7316 179.919,-24.8166 169.359,-23.9591 171.129,-30.7316" stroke="black"/>
</g>
</g>
</svg>

</td>
</tr>

</table>






<div id="footer">
<div class="generatedon">Generated on November 30, 2016 at 12h21</div>
</div>
<!--&lt;script type="text/javascript" src="&lt;site-url/&gt;/jquery.js"&gt;_&lt;/script&gt;-->
<!--&lt;script type="text/javascript" src="&lt;site-url/&gt;/bootstrap-collapse.js"&gt;_&lt;/script&gt;-->

</div> <!-- #page -->
</body>
</html>

